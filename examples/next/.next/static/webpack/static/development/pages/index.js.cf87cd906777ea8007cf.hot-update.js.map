{"version":3,"file":"static/webpack/static/development/pages/index.js.cf87cd906777ea8007cf.hot-update.js","sources":["webpack:///./services/starwars.service.js"],"sourcesContent":["\n/**\n *  Example using the Start Wars API & Â¡Imports!\n */\n// const { GraphQLServer } = require('graphql-yoga');\nconst graphql = require('graphql').graphql;\nconst axios = require('axios');\nconst { makeExecutableSchema, mergeSchemas } = require('graphql-tools');\nconst typePerson = require('./schemas/person.graphql');\nconst typePlanet = require('./schemas/planet.graphql');\nconst typeSpecie = require('./schemas/specie.graphql');\nconst typeFilm = require('./schemas/film.graphql');\nconst typeQuery = require('./schemas/query.graphql');\n\nconst { print } = require('graphql/language/printer');\n\n\n\n/**\n *  Resolvers\n *  In this object you'll map all the types defined on typeDefs\n *  You can mutate the data here, and make API calls for every type or attribute of the type\n */\nconst resolvers = {\n  Person: {\n    homeworld: async root => {\n      const response = await axios.get(root.homeworld);\n      return response.data;\n    },\n    species: async root => {\n      console.log(root)\n      const response = await axios.get(root.species[0]);\n      return response.data;\n    },\n    films: (root) => {\n      const promises = root.films.map(async(url) => {\n        const response = await axios.get(url);\n        return response.data;\n      });\n\n      return Promise.all(promises);\n    },\n\n  },\n  Query: {\n    getPersons: async() => {\n      const response = await axios.get(`https://swapi.co/api/people`);\n      return response.data.results;\n    },\n    getPerson: async (_, { id }) => {\n      const response = await axios.get(`https://swapi.co/api/people/${id}`)\n      return response.data;\n    },\n  },\n};\n\nconst schemaQuery = makeExecutableSchema({ typeDefs: [\n  print(typeFilm),\n  print(typePerson),\n  print(typePlanet),\n  print(typeSpecie), \n  print(typeQuery),\n], resolvers });\n\n/**\n *  This will export the new schema\n */\n\nexport default async(name) => {\n  return await graphql(schemaQuery, `{ \n    getPersons {\n      name\n      height\n      mass\n      hair_color\n      skin_color\n      eye_color\n      birth_year\n      gender\n      homeworld {\n        name\n      }\n      species {\n        name\n      }\n      films {\n        title\n      }\n    } \n  }`);\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;AACA;;;AAGA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AAIA;;;;;;;AAKA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAEA;AAFA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAKA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAKA;AACA;AAjBA;AAoBA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AALA;AArBA;AAiCA;AAAA;AAMA;AANA;AAQA;;;;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;;;;A","sourceRoot":""}